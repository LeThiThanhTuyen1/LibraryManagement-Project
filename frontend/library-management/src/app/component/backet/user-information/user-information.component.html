<!-- Display user information -->
<div class="info-container" *ngIf="user && !isEditing && !isChangingPassword">
  <h2>Thông tin cá nhân</h2>
  <table>
    <tr>
      <th>Tên</th>
      <td>{{ user.first_name }} {{ user.last_name }}</td>
    </tr>
    <tr>
      <th>Tên người dùng</th>
      <td>{{ user.username }}</td>
    </tr>
    <tr>
      <th>Vai trò</th>
      <td>{{ user.role }}</td>
    </tr>
    <tr>
      <th>Email</th>
      <td>{{ user.email }}</td>
    </tr>
    <tr>
      <th>Số điện thoại</th>
      <td>{{ user.phone_number }}</td>
    </tr>
    <tr>
      <th>Đã đăng ký vào</th>
      <td>{{ user.user_id }}</td>
    </tr>
  </table>

  <div class="button-container">
    <button class="edit-info" (click)="editUserInfo()">Thay đổi thông tin</button>
    <button class="edit-password" (click)="editPassword()">Thay đổi mật khẩu</button>
  </div>
</div>

<!-- Edit form -->
<div *ngIf="isEditing && user">
  <h2>Chỉnh sửa thông tin cá nhân</h2>
  <form (ngSubmit)="saveUserInfo()">
    <label for="email">Email</label>
    <input type="email" [(ngModel)]="user.email" name="email" required>

    <label for="phone_number">Số điện thoại</label>
    <input type="text" [(ngModel)]="user.phone_number" name="phone_number" required>

    <div class="button-container">
      <button type="submit">Lưu</button>
      <button type="button" (click)="cancelEdit()">Hủy</button>
    </div>
  </form>
</div>


<!-- Change Password Form -->
<div *ngIf="isChangingPassword && user">
  <h2>Đổi mật khẩu</h2>
  <form (ngSubmit)="changePassword()">
    <label for="oldPassword">Mật khẩu cũ</label>
    <input
      type="password"
      id="oldPassword"
      [(ngModel)]="passwordChange.oldPassword"
      name="oldPassword"
      required
    />

    <label for="newPassword">Mật khẩu mới</label>
    <input
      type="password"
      id="newPassword"
      [(ngModel)]="passwordChange.newPassword"
      name="newPassword"
      required
    />

    <label for="confirmPassword">Xác nhận mật khẩu mới</label>
    <input
      type="password"
      id="confirmPassword"
      [(ngModel)]="passwordChange.confirmPassword"
      name="confirmPassword"
      required
    />

    <div class="button-container">
      <button type="submit">Đổi mật khẩu</button>
      <button type="button" (click)="cancelPasswordChange()">Hủy</button>
    </div>
  </form>
</div>

